/**************************** USER TAB VALIDATION *****************************/
/* The autogen defines its own `onClickUserLogin` function. This is           */
/* overridden using @POSTPROC.                                                */
/******************************************************************************/

// Overrides autogenerated function
void onClickUserUserListLogin () {
  String refUsers      = userMenuPath; // Defined by autogen
  String refDeviceCode = "User/User_List/Device_Code";

  String vocabIdUsers      = getFieldValue(refUsers);
  String vocabIdDeviceCode = getFieldValue(refDeviceCode);

  Boolean isSelectedUsers      = !isNull(vocabIdUsers);
  Boolean isSelectedDeviceCode = !isNull(vocabIdDeviceCode);

  if (!isSelectedUsers)      { noUsersSelected();      return; }
  if (!isSelectedDeviceCode) { noDeviceCodeSelected(); return; }

  newTab("Control", true);
}

void noUsersSelected() {
  String msgHead = "{no_user_selected_head}";
  String msgBody = "{no_user_selected_body}";
  showWarning(msgHead, msgBody);
}

void noDeviceCodeSelected() {
  msgHead = "{no_device_code_selected_head}";
  msgBody = "{no_device_code_selected_body}";
  showWarning(msgHead, msgBody);
}
